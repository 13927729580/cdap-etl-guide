{
  "config": {
    "stages": [
      {
        "name": "kafkaSource",
        "plugin": {
          "name": "Kafka",
          "type": "realtimesource",
          "properties": {
            "kafka.partitions": "10",
            "kafka.topic": "metrics",
            "kafka.zookeeper": "localhost:2181/cdap/kafka"
          }
        }
      },
      {
        "name": "tableSink",
        "plugin": {
          "name": "Table",
          "type": "realtimesink",
          "properties": {
            "name": "metrics",
            "schema": "{\"type\":\"record\",\"name\":\"etlSchemaBody\",\"fields\":[{\"name\":\"message\",\"type\":\"bytes\"},{\"name\":\"key\",\"type\":[\"string\",\"null\"]}]}",
            "schema.row.field": "message"
          }
        }
      }
    ],
    "connections": [
      { "from": "kafkaSource", "to": "tableSink" }
    ]
  }
}
